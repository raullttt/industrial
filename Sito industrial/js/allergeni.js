// Definizione delle icone SVG per gli allergeni
export const allergeni = {
    // Glutine
    glutine: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="#d4af37">
        <path d="M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8s3.59-8,8-8s8,3.59,8,8 S16.41,20,12,20z M11,7h2v6h-2V7z M11,15h2v2h-2V15z"/>
        <path d="M8,10.5c0-2.2,1.8-4,4-4s4,1.8,4,4"/>
    </svg>`,
    
    // Lattosio/Latte
    latte: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="#d4af37">
        <path d="M19.5,3.5L18,2h-4v1h-4V2H6L4.5,3.5L3,6v13c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V6L19.5,3.5z M15.5,18.5h-7 c-0.83,0-1.5-0.67-1.5-1.5s0.67-1.5,1.5-1.5h7c0.83,0,1.5,0.67,1.5,1.5S16.33,18.5,15.5,18.5z M18,10H6V6h12V10z"/>
    </svg>`,
    
    // Uova
    uova: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="#d4af37">
        <path d="M12,3C8.5,3,5,9,5,14c0,4.97,3.13,7,7,7s7-2.03,7-7C19,9,15.5,3,12,3z M12,18c-2.76,0-5-2.24-5-5 c0-2.38,1.02-5.35,2.95-7.29C10.16,5.5,10.5,5.35,10.87,5.31c0.38-0.04,0.74,0.11,1.01,0.38C13.5,7.31,15,10.48,15,13 C15,15.76,13.76,18,12,18z"/>
    </svg>`,
    
    // Pesce
    pesce: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="#d4af37">
        <path d="M19.11,5.08c-0.61-0.46-1.28-0.85-2-1.16C15.32,3.33,13.23,3,12,3C7.86,3,4.34,5.04,3.71,5.43 C3.28,5.68,3,6.14,3,6.64v10.73c0,0.5,0.28,0.96,0.71,1.21C4.34,18.96,7.86,21,12,21c1.23,0,3.32-0.33,5.11-0.92 c0.72-0.31,1.39-0.7,2-1.16c0.55-0.42,0.89-1.07,0.89-1.8V6.88C20,6.15,19.66,5.5,19.11,5.08z M16.28,7.22 c0.76,0,1.38,0.62,1.38,1.38s-0.62,1.38-1.38,1.38s-1.38-0.62-1.38-1.38S15.52,7.22,16.28,7.22z M12,18c-3.09,0-5.78-1.11-7-2.73 V8.73c1.22-1.62,3.91-2.73,7-2.73s5.78,1.11,7,2.73v6.54C17.78,16.89,15.09,18,12,18z"/>
    </svg>`,
    
    // Crostacei
    crostacei: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="#d4af37">
        <path d="M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8s3.59-8,8-8s8,3.59,8,8 S16.41,20,12,20z"/>
        <path d="M15,6.5l-3,3l-3-3"/>
        <path d="M15,17.5l-3-3l-3,3"/>
        <path d="M6.5,15l3-3l-3-3"/>
        <path d="M17.5,15l-3-3l3-3"/>
    </svg>`,
    
    // Frutta a guscio/Noci
    noci: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="#d4af37">
        <path d="M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8s3.59-8,8-8s8,3.59,8,8 S16.41,20,12,20z"/>
        <path d="M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5S14.76,7,12,7z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z"/>
    </svg>`,
    
    // Soia
    soia: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="#d4af37">
        <path d="M12,2C8.13,2,5,5.13,5,9c0,5.25,7,13,7,13s7-7.75,7-13C19,5.13,15.87,2,12,2z M12,11.5c-1.38,0-2.5-1.12-2.5-2.5 s1.12-2.5,2.5-2.5s2.5,1.12,2.5,2.5S13.38,11.5,12,11.5z"/>
    </svg>`,
    
    // Arachidi
    arachidi: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="#d4af37">
        <path d="M17,11c0.34,0,0.67,0.04,1,0.09V6.27L10.5,3L3,6.27v4.91c0,4.54,3.2,8.79,7.5,9.82c0.55-0.13,1.08-0.32,1.6-0.55 C11.41,19.47,11,18.28,11,17C11,13.69,13.69,11,17,11z"/>
        <path d="M17,13c-2.21,0-4,1.79-4,4c0,2.21,1.79,4,4,4s4-1.79,4-4C21,14.79,19.21,13,17,13z M17,14.38c0.62,0,1.12,0.51,1.12,1.12 s-0.51,1.12-1.12,1.12s-1.12-0.51-1.12-1.12S16.38,14.38,17,14.38z M17,19.75c-0.93,0-1.74-0.46-2.24-1.17 c0.05-0.72,1.51-1.08,2.24-1.08s2.19,0.36,2.24,1.08C18.74,19.29,17.93,19.75,17,19.75z"/>
    </svg>`,
    
    // Sedano
    sedano: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="#d4af37">
        <path d="M12,22c4.97,0,9-4.03,9-9c0-4.39-3.27-8-7.5-8.5V3l-3,3l3,3V7.5c3.05,0.5,5.5,3.14,5.5,6.5c0,3.59-2.91,6.5-6.5,6.5 S5.5,17.59,5.5,14c0-0.95,0.2-1.86,0.57-2.69L4.59,9.83C3.9,11.09,3.5,12.5,3.5,14C3.5,18.42,7.08,22,12,22z"/>
    </svg>`,
    
    // Senape
    senape: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="#d4af37">
        <path d="M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8s3.59-8,8-8s8,3.59,8,8 S16.41,20,12,20z"/>
        <path d="M12,6c-0.55,0-1,0.45-1,1v7c0,0.55,0.45,1,1,1s1-0.45,1-1V7C13,6.45,12.55,6,12,6z"/>
        <path d="M12,15c-0.55,0-1,0.45-1,1v1c0,0.55,0.45,1,1,1s1-0.45,1-1v-1C13,15.45,12.55,15,12,15z"/>
    </svg>`,
    
    // Sesamo
    sesamo: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="#d4af37">
        <path d="M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8s3.59-8,8-8s8,3.59,8,8 S16.41,20,12,20z"/>
        <path d="M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5S14.76,7,12,7z M12,15c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3 S13.66,15,12,15z"/>
        <path d="M12,9c-1.1,0-2,0.9-2,2s0.9,2,2,2s2-0.9,2-2S13.1,9,12,9z"/>
    </svg>`,
    
    // Solfiti
    solfiti: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="#d4af37">
        <path d="M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8s3.59-8,8-8s8,3.59,8,8 S16.41,20,12,20z"/>
        <path d="M7,11h10v2H7V11z"/>
    </svg>`,
    
    // Lupini
    lupini: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="#d4af37">
        <path d="M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8s3.59-8,8-8s8,3.59,8,8 S16.41,20,12,20z"/>
        <path d="M12,6c-3.31,0-6,2.69-6,6s2.69,6,6,6s6-2.69,6-6S15.31,6,12,6z M12,16c-2.21,0-4-1.79-4-4s1.79-4,4-4s4,1.79,4,4 S14.21,16,12,16z"/>
    </svg>`,
    
    // Molluschi
    molluschi: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" fill="#d4af37">
        <path d="M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8s3.59-8,8-8s8,3.59,8,8 S16.41,20,12,20z"/>
        <path d="M12,6c-3.31,0-6,2.69-6,6s2.69,6,6,6s6-2.69,6-6S15.31,6,12,6z M12,16c-2.21,0-4-1.79-4-4s1.79-4,4-4s4,1.79,4,4 S14.21,16,12,16z"/>
        <path d="M12,8c-2.21,0-4,1.79-4,4s1.79,4,4,4s4-1.79,4-4S14.21,8,12,8z M12,14c-1.1,0-2-0.9-2-2s0.9-2,2-2s2,0.9,2,2 S13.1,14,12,14z"/>
    </svg>`
};

// Funzione per identificare gli allergeni in base agli ingredienti
export function identificaAllergeni(ingredienti) {
    if (!ingredienti) return [];
    
    const ingredientiLower = ingredienti.toLowerCase();
    const allergeniTrovati = [];
    
    // Glutine
    if (ingredientiLower.includes('farina') || 
        ingredientiLower.includes('pane') || 
        ingredientiLower.includes('pasta') || 
        ingredientiLower.includes('pizza') || 
        ingredientiLower.includes('impasto') || 
        ingredientiLower.includes('panino') || 
        ingredientiLower.includes('crostone')) {
        allergeniTrovati.push('glutine');
    }
    
    // Latte e derivati
    if (ingredientiLower.includes('latte') || 
        ingredientiLower.includes('burrata') || 
        ingredientiLower.includes('mozzarella') || 
        ingredientiLower.includes('fiordilatte') || 
        ingredientiLower.includes('bufala') || 
        ingredientiLower.includes('ricotta') || 
        ingredientiLower.includes('gorgonzola') || 
        ingredientiLower.includes('brie') || 
        ingredientiLower.includes('taleggio') || 
        ingredientiLower.includes('grana') || 
        ingredientiLower.includes('pecorino') || 
        ingredientiLower.includes('parmigiano') || 
        ingredientiLower.includes('formaggi') || 
        ingredientiLower.includes('formaggio') || 
        ingredientiLower.includes('cheddar') || 
        ingredientiLower.includes('provola') || 
        ingredientiLower.includes('stracciatella')) {
        allergeniTrovati.push('latte');
    }
    
    // Uova
    if (ingredientiLower.includes('uovo') || 
        ingredientiLower.includes('uova') || 
        ingredientiLower.includes('tuorlo') || 
        ingredientiLower.includes('all\'occhio di bue')) {
        allergeniTrovati.push('uova');
    }
    
    // Pesce
    if (ingredientiLower.includes('pesce') || 
        ingredientiLower.includes('tonno') || 
        ingredientiLower.includes('salmone') || 
        ingredientiLower.includes('acciughe') || 
        ingredientiLower.includes('alici')) {
        allergeniTrovati.push('pesce');
    }
    
    // Crostacei
    if (ingredientiLower.includes('crostacei') || 
        ingredientiLower.includes('gamberi') || 
        ingredientiLower.includes('gamberetti') || 
        ingredientiLower.includes('granchio') || 
        ingredientiLower.includes('aragosta')) {
        allergeniTrovati.push('crostacei');
    }
    
    // Frutta a guscio
    if (ingredientiLower.includes('noci') || 
        ingredientiLower.includes('nocciola') || 
        ingredientiLower.includes('nocciole') || 
        ingredientiLower.includes('mandorle') || 
        ingredientiLower.includes('pistacchi') || 
        ingredientiLower.includes('pistacchio')) {
        allergeniTrovati.push('noci');
    }
    
    // Arachidi
    if (ingredientiLower.includes('arachidi') || 
        ingredientiLower.includes('arachide')) {
        allergeniTrovati.push('arachidi');
    }
    
    return allergeniTrovati;
}

// Esporta le funzioni e gli oggetti
export { allergeni, identificaAllergeni };